;
;   _______  ____  ____  _______            ___     ______
;  |_   __ \|_   ||   _||_   __ \         .'   `. .' ____ \
;    | |__) | | |__| |    | |__) |______ /  .-.  \| (___ \_|
;    |  ___/  |  __  |    |  ___/|______|| |   | | _.____`.
;   _| |_    _| |  | |_  _| |_           \  `-'  /| \____) |
;  |_____|  |____||____||_____|           `.___.'  \______.'
;
; Notice: This file is automatically generated by PHP-OS.
;         Do not edit this file. We cannot be held responsible if this is edited and overwritten again.
;


resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_data: resb 3
resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_x: resb 2
resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_y: resb 2
[bits 16]

[org 0x0000]

[bits 16]

[org 0x7c00]

__php_PHPOS_Service_Kit_Startup_PrintMousePosition:
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_init
  __php_PHPOS_Service_Kit_Startup_PrintMousePosition_main:
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse
    mov esi, __php_var_WDog
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString
    jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString_finish
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter:
      mov ah, 14
      mov ebx, 15
      int 16
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString:
      lodsb 
      or al, al
      jz __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone
      call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter
      jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone:
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString_finish:
    mov ax, [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_x]
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX
    mov esi, __php_var_IA__
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3
    jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3_finish
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter:
      mov ah, 14
      mov ebx, 15
      int 16
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3:
      lodsb 
      or al, al
      jz __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone
      call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter
      jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone:
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString3_finish:
    mov esi, __php_var_WTog
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1
    jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1_finish
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter:
      mov ah, 14
      mov ebx, 15
      int 16
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1:
      lodsb 
      or al, al
      jz __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone
      call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter
      jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone:
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString1_finish:
    mov ax, [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_y]
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX
    mov esi, __php_var_LCA_
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2
    jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2_finish
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter:
      mov ah, 14
      mov ebx, 15
      int 16
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2:
      lodsb 
      or al, al
      jz __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone
      call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter
      jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2_PHPOS_Service_BIOS_IO_PrintConstantString_PrintDone:
      ret 
    __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintConstantString2_finish:
    jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_main
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX:
  mov ebp, esp
  cmp ax, 0
  jne __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_convert
  mov al, "0"
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter
  jmp __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_done
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_convert:
  mov ecx, 0
  __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_convert_loop:
    xor dx, dx
    mov bx, 10
    div bx
    push dx
    inc ecx
    cmp ax, 0
    jne __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_convert_loop
  __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_convert_print:
    pop dx
    add dl, "0"
    mov al, dl
    call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter
    loop __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_convert_print
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_done:
  mov esp, ebp
  ret 
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_BIOS_IO_PrintNumberFromAX_PHPOS_Service_BIOS_IO_PrintConstantString_PrintCharacter:
  mov ah, 14
  mov ebx, 15
  int 16
  ret 
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse:
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait_input
  in al, 96
  mov [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_data], al
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait_input
  in al, 96
  mov [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_data + 1], al
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait_input
  in al, 96
  mov [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_data + 2], al
  movsx ax, byte [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_data + 1]
  add [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_x], ax
  movsx ax, byte [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_data + 2]
  sub [resb___php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_mouse_y], ax
  ret 
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_init:
  in al, 100
  or al, 171
  out 100, al
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait
  mov al, 32
  out 100, al
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait
  in al, 96
  or al, 2
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait
  out 96, al
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait
  mov al, 212
  out 100, al
  call __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait
  mov al, 244
  out 96, al
  ret 
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait_input:
  in al, 100
  test al, 1
  jz __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait_input
  ret 
__php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait:
  in al, 100
  test al, 2
  jnz __php_PHPOS_Service_Kit_Startup_PrintMousePosition_PHPOS_Service_PCI_PS2_Mouse_wait
  ret 

__php_var_WDog:
  db "X: ", 0

__php_var_IA__:
  db " ", 0

__php_var_WTog:
  db "Y: ", 0

__php_var_LCA_:
  db ", ", 0

times 510-($-$$) db 0
dw 0xAA55

